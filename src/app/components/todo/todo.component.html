<div class="todo-container">
  <h1>Lista de Tareas</h1>
  
  <div class="todo-layout">
    <div class="add-todo-panel">
      <h2>Nueva Tarea</h2>
      <form (ngSubmit)="addTodo()" #todoForm="ngForm">
        <div class="form-group">
          <input
            type="text"
            [(ngModel)]="newTodo.titulo"
            name="titulo"
            placeholder="Título de la tarea..."
            required
          />
        </div>
        
        <div class="form-group">
          <textarea
            [(ngModel)]="newTodo.descripcion"
            name="descripcion"
            placeholder="Descripción de la tarea..."
            rows="3"
          ></textarea>
        </div>
        
        <div class="form-group">
          <label>Fecha de vencimiento:</label>
          <input
            type="datetime-local"
            [(ngModel)]="newTodo.fechaVencimiento"
            name="fechaVencimiento"
            required
          />
        </div>
        
        <button type="submit" [disabled]="!todoForm.form.valid">Agregar Tarea</button>
      </form>
    </div>

    <div class="todo-list-panel">
      <h2>Tareas</h2>
      <div class="todo-list">
        <div *ngFor="let todo of todos$ | async" class="todo-item" [class.completada]="todo.estado === 'completada'">
          <div class="todo-header">
            <input
              type="checkbox"
              [checked]="todo.estado === 'completada'"
              (change)="toggleTodo(todo.id)"
            />
            <h3>{{ todo.titulo }}</h3>
            <button class="delete-btn" (click)="removeTodo(todo.id)">×</button>
          </div>
          
          <div class="todo-details">
            <p class="description">{{ todo.descripcion }}</p>
            <div class="todo-meta">
              <span class="fecha">Vence: {{ todo.fechaVencimiento | date:'short' }}</span>
              <span class="estado" [class.completada]="todo.estado === 'completada'">
                {{ todo.estado }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 